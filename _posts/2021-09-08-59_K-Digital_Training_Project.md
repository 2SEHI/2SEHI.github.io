---

title:  "[전력계량기OCR인식] 2021/9/8 주요객체 좌표입력받고 투시변환하기"

date: 2021-09-08
last_modified_at: 2021-09-08

use_math: true
comments: true

categories:
  - K-Digital Project

---


# 오늘 한 것
카메라로 전력량 계량기 영역을 자동을 추출하도록 해야 하는데 공통점을 찾기가 힘들어 일단 주요객체를 찾았다는 전제하에 투시변환하고 tessract를 이용해 문자인식을 해보았습니다



## 주요객체의 공통점을 찾기 힘든 이유

1. 전력량계량기의 왼쪽 상단이 스티커로 가려지는 경우가 있음
2. 영상에서 배경이 많은 부분을 차지하거나 전력량 계량기만 찍혀있는 등 전력량계량기의 크기가 일정치 않아 객체 영역이 많이 잡힘
3. 전력량 계량기의 타입이 4가지인데다가 민전용, 한전용으로 나눠지는 타입종류가 있어서 계량기크기 비율의                                                                                                                       공통점을 찾기가 힘듦

데이터도 아직 제공받지 못했는데 프로젝트기간 4주에서 벌써 절반을 주요객체를 찾는데 써버려서 다른 방안을 생각해보았습니다.



## 다른 방안

camscanner 애플리케이션에서 스캔할 문서 영역을 유저에게 지정 받는 것처럼 전력량 계량
기의 좌표를 유저에게 받는다는 전제하에 만드는게 좋을 것 같다고 생각했습니다.



selectROI메소드를 이용해서 원하는 영역의 좌표를 받아도 되지만 사진찍는 각도에 따라 전력량 계량기의 형태가 마름모, 사다리꼴 등으로 변하므로 직사각형이 아니라 영역의 4개꼭지점을 입력받아 투시변환처리를 해주어야 합니다.

그래서 마우스 이벤트메소드를 활용하여 좌표4개를 선택하면 선택영역에 대해 투시영역-> 이미지 전처리를 하도록 했습니다



![59_K-Digital_Training_Project_1](\assets\images\59_K-Digital_Training_Project_1.png)
