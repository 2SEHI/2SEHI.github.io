---

title:  "[전력계량기OCR인식] 2021/9/8 주요객체 좌표입력받고 투시변환하기"

date: 2021-09-08
last_modified_at: 2021-09-08

use_math: true
comments: true

categories:
  - K-Digital Project

---


# 오늘 한 것
카메라로 전력량 계량기 영역을 자동으로 추출하도록 해야 하는데 공통점을 찾기가 힘들어 camscanner 애플리케이션에서 스캔할 문서 영역을 유저에게 지정 받는 것처럼 전력량 계량기의 좌표를 유저에게 받는다는 전제하에 입력받은 좌표에 대해서 투시변환하고 tessract를 이용해 문자인식을 해보았습니다



selectROI메소드를 이용해서 원하는 영역의 좌표를 받아도 되지만 사진찍는 각도에 따라 전력량 계량기의 형태가 마름모, 사다리꼴 등으로 변하므로 직사각형이 아니라 마우스 이벤트메소드를 활용하여 영역의 4개꼭지점을 입력받아 투시변환처리를 해주었습니다.

아래 이미지는 투시영역-> 이미지 전처리를 한 뒤 tessract를 이용해 문자인식한 결과입니다. 모든 문자에 대해서 완벽히 읽어내지는 못했지만, 우리에게 필요한 정보들(제조번호, 모델명 등)은 꽤 정화히 읽어냈습니다.

![59_K-Digital_Training_Project_1](\assets\images\59_K-Digital_Training_Project_1.png)



## 객체탐지가 잘 안되고 있는 이유

1. 전력량계량기의 왼쪽 상단이 스티커로 가려지는 경우가 있음
2. 영상에서 배경이 많은 부분을 차지하거나 전력량 계량기만 찍혀있는 등 전력량계량기의 크기가 일정치 않아 객체 영역이 많이 잡힘
3. 전력량 계량기의 타입이 4가지인데다가 민전용, 한전용으로 나눠지는 타입종류가 있어서 계량기크기 비율의                                                                                                                       공통점을 찾기가 힘듦



## 





